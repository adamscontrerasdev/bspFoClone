(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{7656:function(e,s,l){Promise.resolve().then(l.bind(l,4638))},4638:function(e,s,l){"use strict";l.r(s);var n=l(7437),a=l(2265),i=l(4397),t=l(8099),o=l(6954),r=l.n(o),c=l(8905),d=l(1444),u=l(1065),m=l(4020),p=l(1928),h=l.n(p),_=l(9324);s.default=()=>{var e,s;let[l,o]=(0,a.useState)(!1),p=(0,d.v9)(e=>e.general.musicPlay);(0,d.v9)(e=>e.general.allMusic);let b=(0,d.I0)(),[j,v]=(0,a.useState)("vacio"),[x,g]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[N,C]=(0,a.useState)("vacio"),[k,A]=(0,a.useState)(null),{data:D,error:F,isLoading:w}=(0,m.wn)(null,{}),[E,S]=(0,a.useState)(k),[V,B]=(0,a.useState)(!1),G=(0,a.useRef)(null),[q,O]=(0,a.useState)(1),M=(q-1)*6,P=Array.isArray(null==k?void 0:k.documents)&&(null==k?void 0:k.documents.slice(M,M+6))||[],I=Array.from({length:Math.ceil(((null==k?void 0:null===(e=k.documents)||void 0===e?void 0:e.length)||0)/6)},(e,s)=>s+1).map(e=>(0,n.jsx)(_.A,{onClick:()=>L(e),className:r().buttonOfPages,children:e},e)),L=e=>{O(e)},U=e=>{let s;if(e){var l;s=null!==(l=e.split("/").pop())&&void 0!==l?l:""}else s="";b((0,u.H$)(s))};(0,a.useEffect)(()=>{D&&"documents"in D?A(D):A(null),fetch("https://firestore.googleapis.com/v1/projects/bspstore-edddc/databases/(default)/documents/beats?key=AIzaSyC-tyxWI53wicroqnaBEYDRlpyuYJMj2Zw").then(e=>e.json()).then(e=>{let s=e.documents.map(e=>{let s=e.fields;return"audio"in s&&"nombre"in s&&"pic"in s&&"bpm"in s&&"key"in s&&"genero"in s?{audio:s.audio.stringValue||"",nombre:s.nombre.stringValue||"",pic:s.pic.stringValue||"",bpm:s.bpm.stringValue||"",key:s.key.stringValue||"",genero:s.genero.stringValue||"",id:e.name.split("/").pop()||""}:(console.error("Estructura de datos incorrecta:",s),null)}).filter(e=>null!==e);b((0,u.UI)(s))}).catch(e=>console.error(e))},[D]);let K=()=>{let e=!1;"vacio"!==j&&null!=j&&(e=!0),("mayor"===N||"menor"===N)&&(e=!0),B(e),e?G.current.classList.add("beats_crecer__SzNUw"):G.current.classList.remove("beats_crecer__SzNUw")};(0,a.useEffect)(()=>{let e=D;j&&"todos"!==j&&(e=null==D?void 0:D.documents.filter(e=>e.fields.genero.stringValue===j.toLowerCase())),(j&&"vacio"===j||"todos"===j)&&(e=null==D?void 0:D.documents),("todos"!=N||null!=N||void 0!=N)&&N&&"todos"!==N&&("menor"===N&&(e=e.filter(e=>e.fields.key.stringValue.includes("m"))),"mayor"===N&&(e=e.filter(e=>!e.fields.key.stringValue.includes("m")))),A({...k,documents:e}),K(),console.log(V),console.log(typeof N),console.log(j)},[j,N,V]);let Z=e=>{"Genero"===e?v("vacio"):"Escala"===e&&C("vacio")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)(t.Z,{}),(0,n.jsxs)("div",{className:r().bgDynamic,children:[(0,n.jsxs)("div",{className:r().beatContainer,children:[(0,n.jsxs)("div",{className:"".concat(r().filters),ref:G,children:[(0,n.jsxs)("div",{className:r().genero,children:[(0,n.jsx)("label",{htmlFor:"genero",children:"G\xe9nero"}),(0,n.jsxs)("select",{id:"genero",className:r().select_genero,name:"genero",onChange:e=>v(e.target.value),children:[(0,n.jsx)("option",{value:"todos",children:"todos"}),(0,n.jsx)("option",{value:"reggaeton",children:"Reggaet\xf3n"}),(0,n.jsx)("option",{value:"balada",children:"Balada"}),(0,n.jsx)("option",{value:"trap",children:"Trap"})]})]}),(0,n.jsxs)("div",{className:r().bpm,children:[(0,n.jsx)("label",{htmlFor:"bpm",children:"Bpm"}),(0,n.jsx)("input",{type:"number",name:"bpm",id:"bpm",className:r().bpm_number,placeholder:"90"})]}),(0,n.jsxs)("div",{className:r().Key,children:[!l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:"key",children:"Key"}),(0,n.jsxs)("select",{id:"key",className:r().select_genero,name:"key",children:[(0,n.jsx)("option",{value:"todos",children:"todos"}),(0,n.jsx)("option",{value:"C",children:"C"}),(0,n.jsx)("option",{value:"C#",children:"C#"}),(0,n.jsx)("option",{value:"D",children:"D"}),(0,n.jsx)("option",{value:"D#",children:"D#"}),(0,n.jsx)("option",{value:"E",children:"E"}),(0,n.jsx)("option",{value:"F",children:"F"}),(0,n.jsx)("option",{value:"F#",children:"F#"}),(0,n.jsx)("option",{value:"G",children:"G"}),(0,n.jsx)("option",{value:"G#",children:"G#"}),(0,n.jsx)("option",{value:"A",children:"A"}),(0,n.jsx)("option",{value:"A#",children:"A#"}),(0,n.jsx)("option",{value:"B",children:"B"})]})]}),l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:"key",children:"Key"}),(0,n.jsxs)("select",{id:"key",className:r().select_genero,name:"key",children:[(0,n.jsx)("option",{value:"todos",children:"todos"}),(0,n.jsx)("option",{value:"Am",children:"Am"}),(0,n.jsx)("option",{value:"A#m",children:"A#m"}),(0,n.jsx)("option",{value:"Bm",children:"Bm"}),(0,n.jsx)("option",{value:"Cm",children:"Cm"}),(0,n.jsx)("option",{value:"C#m",children:"C#m"}),(0,n.jsx)("option",{value:"Dm",children:"Dm"}),(0,n.jsx)("option",{value:"D#m",children:"D#m"}),(0,n.jsx)("option",{value:"Em",children:"Em"}),(0,n.jsx)("option",{value:"Fm",children:"Fm"}),(0,n.jsx)("option",{value:"F#m",children:"F#m"}),(0,n.jsx)("option",{value:"Gm",children:"Gm"}),(0,n.jsx)("option",{value:"G#m",children:"G#m"})]})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:r().Mym,children:[(0,n.jsx)("label",{htmlFor:"escala",children:"Escala"}),(0,n.jsxs)("select",{id:"escala",className:r().select_genero,name:"escala",onChange:e=>C(e.target.value),children:[(0,n.jsx)("option",{value:"todos",children:"todos"}),(0,n.jsx)("option",{value:"mayor",children:"Mayor"}),(0,n.jsx)("option",{value:"menor",children:"Menor"})]})]})})]}),V&&(0,n.jsxs)("div",{className:r().filtrosAplicados,children:["vacio"!==j&&(0,n.jsx)("div",{className:r().burbujaDefiltro1,onClick:()=>Z("Genero"),children:j}),"vacio"!==N&&(0,n.jsx)("div",{className:r().burbujaDefiltro2,onClick:()=>Z("Escala"),children:N})]})]}),(0,n.jsxs)("div",{className:r().container_list,children:[w&&(0,n.jsx)("div",{className:r().spin}),F&&(0,n.jsx)("h1",{children:"UNA POLLA"}),(null==k?void 0:null===(s=k.documents)||void 0===s?void 0:s.length)>0&&P.map(e=>(0,n.jsxs)("div",{className:h().cardOfBeat,onClick:()=>U(e.name),children:[(0,n.jsx)("img",{src:e.fields.pic.stringValue,alt:e.fields.pic.stringValue}),(0,n.jsx)("span",{className:h().lineOfSep1}),(0,n.jsx)("h2",{className:h().name,children:e.fields.nombre.stringValue}),(0,n.jsx)("h2",{className:h().genero,children:e.fields.genero.stringValue}),(0,n.jsx)("h2",{className:h().genero,children:e.fields.key.stringValue}),(0,n.jsx)("span",{className:h().lineOfSep3}),(0,n.jsx)("div",{className:h().bpm,children:(0,n.jsx)("h2",{children:e.fields.bpm.stringValue})})]},e.name))]}),(0,n.jsx)("div",{className:r().pagination,children:I})]}),(0,n.jsx)(c.Z,{beat:p})]})]})}},4020:function(e,s,l){"use strict";l.d(s,{BG:function(){return i},wn:function(){return o}});var n=l(8507),a=l(6074);let i=(0,n.LC)({reducerPath:"userApi",baseQuery:(0,a.ni)({baseUrl:"https://firestore.googleapis.com/v1/projects/bspstore-edddc/databases/(default)/documents/beats?key=AIzaSyC-tyxWI53wicroqnaBEYDRlpyuYJMj2Zw"}),endpoints:e=>({getBeats:e.query({query:()=>"beats"}),getMusicById:e.query({query:e=>{let{id:s}=e;return"users/".concat(s)}}),getInitialBeats:e.query({query:()=>"beats"})})}),{useGetBeatsQuery:t,useGetInitialBeatsQuery:o}=i;i.reducer},6954:function(e){e.exports={bgDynamic:"beats_bgDynamic__JG_Fa",beatContainer:"beats_beatContainer__RPv35",filters:"beats_filters__hEono",crecer:"beats_crecer__SzNUw",genero:"beats_genero__UfZNO",select_genero:"beats_select_genero___3dbO",bpm_number:"beats_bpm_number__CrJZw",bpm:"beats_bpm__cWudO",Key:"beats_Key__YQsq9",switch:"beats_switch__q4KPp",box:"beats_box__UWK4q",Mym:"beats_Mym__Fgl2o",container_list:"beats_container_list__3FJ_s",filtrosAplicados:"beats_filtrosAplicados__v15vQ",aparecer:"beats_aparecer__CqxML",burbujaDefiltro1:"beats_burbujaDefiltro1__up3Ce",burbujaDefiltro2:"beats_burbujaDefiltro2___PlzA",spin:"beats_spin__jQgDj",rueda:"beats_rueda__xxPLI",buttonOfPages:"beats_buttonOfPages__0CYiC",pagination:"beats_pagination__3wro5"}}},function(e){e.O(0,[340,970,420,582,190,400,682,460,183,278,622,324,606,971,23,744],function(){return e(e.s=7656)}),_N_E=e.O()}]);